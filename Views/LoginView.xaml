<UserControl
    x:Class="RestaurantJapanese.Views.LoginView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    KeyDown="OnKeyDown">

    <!-- Fondo general con "brisa" sakura suave -->
    <Grid Background="{StaticResource JpBgBrush}">
        <Grid>
            <!-- Ornamentos suaves (no bloquean interacción) -->
            <Ellipse Width="420" Height="420"
               Fill="{StaticResource JpCrimsonBrush}"
               Opacity="0.04"
               HorizontalAlignment="Left"
               VerticalAlignment="Top"
               Margin="-120,-140,0,0"
               IsHitTestVisible="False"/>
            <Ellipse Width="300" Height="300"
               Fill="{StaticResource JpCrimsonBrush}"
               Opacity="0.035"
               HorizontalAlignment="Right"
               VerticalAlignment="Bottom"
               Margin="0,0,-80,-60"
               IsHitTestVisible="False"/>
        </Grid>

        <!-- Contenido centrado -->
        <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Tarjeta -->
            <Border Grid.Row="0" Style="{StaticResource JpCard}" Width="400">
                <StackPanel Spacing="16">

                    <!-- Encabezado con banda roja tipo "noren" -->
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="6"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <Border Grid.Row="0"
                    Background="{StaticResource JpCrimsonBrush}"
                    CornerRadius="12,12,0,0"/>

                        <StackPanel Grid.Row="1" Spacing="6" Margin="0,8,0,6">
                            <TextBlock Text="Restaurant JP" Style="{StaticResource JpTitle}"/>
                            <TextBlock Text="寿司  •  ラーメン  •  鉄板焼き"
                         Style="{StaticResource JpSubtitle}"
                         HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Grid>

                    <!-- Formulario -->
                    <StackPanel Spacing="10">
                        <TextBox
                            x:Name="UserNameTextBox"
                            Style="{StaticResource JpTextBox}"
                            PlaceholderText="Usuario"
                            Text="{Binding UserName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            KeyDown="UserNameTextBox_KeyDown"/>

                        <PasswordBox
                            x:Name="Pwd"
                            Style="{StaticResource JpPasswordBox}"
                            PlaceholderText="Contraseña"
                            KeyDown="PasswordBox_KeyDown"/>

                        <Button
                            x:Name="LoginButton"
                            Style="{StaticResource JpPrimaryButton}"
                            Content="Iniciar sesión"
                            Command="{Binding SignInCommand}"
                            CommandParameter="{Binding ElementName=Pwd, Path=Password}"/>
                    </StackPanel>

                    <!-- Mensaje de error -->
                    <TextBlock Text="{Binding Error}"
                     Style="{StaticResource JpErrorText}"
                     Margin="2,2,2,0"/>
                </StackPanel>
            </Border>

            <!-- Pie/nota -->
            <TextBlock Grid.Row="1"
                 Text="© Restaurant JP"
                 Foreground="{StaticResource JpMutedBrush}"
                 FontSize="11"
                 Margin="0,10,0,0"
                 HorizontalAlignment="Center"/>
        </Grid>
    </Grid>
</UserControl>
